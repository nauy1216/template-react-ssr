(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+pLP":function(t,e,n){(t.exports=n("JPst")(!1)).push([t.i,".user{\n    color:red;\n}",""])},"4Gr3":function(t,e,n){var o=n("k0qG");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(t.exports=o.locals)},O14P:function(t,e,n){"use strict";n.r(e);var o=n("q1tI"),r=n.n(o),a=n("i8i4"),u=n.n(a),i=n("eO8H"),c=n("TJpk"),l=n("/MKj"),f={getHomeList:function(){return function(t,e,n){return n.get("/api/users").then((function(e){var n=e.data;t({type:"SET_HOME_LIST",payload:n})}))}}};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(){return p(this,e),b(this,m(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(o=[{key:"componentWillMount",value:function(){console.log("Home 组件即将挂载"),this.props.list&&this.props.list.length||this.props.getHomeList()}},{key:"componentDidMount",value:function(){console.log("你看我在服务端执不执行")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.Helmet,null,r.a.createElement("title",null,"React-SSR"),r.a.createElement("meta",{name:"description",content:"首页描述"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("ul",{className:"list-group"},this.props.list.map((function(t){return r.a.createElement("li",{key:t.id,className:"list-group-item"},t.name)}))))))}}])&&y(n.prototype,o),a&&y(n,a),e}(o.Component);(v=Object(l.b)((function(t){return t.home}),f)(v)).loadData=function(t){return t.dispatch(f.getHomeList())};var d=v,O={increment:function(){return{type:"INCREMENT"}}};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){function e(){return g(this,e),S(this,_(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,this.props.number),r.a.createElement("button",{onClick:this.props.increment},"+"))}}])&&w(n.prototype,o),a&&w(n,a),e}(o.Component),k=P=Object(l.b)((function(t){return t.counter}),O)(P),N={login:function(t){return function(e,n,o){return o.post("/api/login",t).then((function(t){var n=t.data;e({type:"SET_SESSION",payload:n.data})}))}},logout:function(){return function(t,e,n){return n.get("/api/logout").then((function(e){var n=e.data;t({type:"SET_SESSION",payload:n.data})}))}},getUser:function(){return function(t,e,n){return n.get("/api/user").then((function(e){var n=e.data;t({type:"SET_SESSION",payload:n.data})}))}}};function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function R(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?D(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M=function(t){function e(){var t,n;T(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return L(D(n=R(this,(t=I(e)).call.apply(t,[this].concat(r)))),"state",{username:""}),L(D(n),"handleSubmit",(function(t){t.preventDefault(),n.props.login({username:n.state.username})})),n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"用户名"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.username,onChange:function(e){return t.setState({username:e.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",className:"btn btn-primary"})))))}}])&&x(n.prototype,o),a&&x(n,a),e}(o.Component),F=M=Object(l.b)((function(t){return t.session}),N)(M);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function A(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var B=function(t){function e(){return J(this,e),A(this,U(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-6"},r.a.createElement("button",{onClick:this.props.logout,type:"submit",className:"btn btn-primary"},"退出")))}}])&&q(n.prototype,o),a&&q(n,a),e}(o.Component),K=B=Object(l.b)((function(t){return t.session}),N)(B);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Q(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(){return X(this,e),Q(this,Y(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return this.props.user?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-6"},"个人中心")):r.a.createElement(i.c,{to:"/login"})}}])&&z(n.prototype,o),a&&z(n,a),e}(o.Component),tt=$=Object(l.b)((function(t){return t.session}))($);function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function rt(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var it=function(t){function e(){return nt(this,e),rt(this,at(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,t),n=e,(o=[{key:"componentWillMount",value:function(){this.props.staticContext&&(this.props.staticContext.notFound=!0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-6"},"你的页面飞了"))}}])&&ot(n.prototype,o),a&&ot(n,a),e}(o.Component),ct=n("PCGc"),lt=n.n(ct);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function yt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t,e){return function(n){function o(){return st(this,o),yt(this,bt(o).apply(this,arguments))}var a,u,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(o,n),a=o,(u=[{key:"componentWillMount",value:function(){this.props.staticContext&&this.props.staticContext.cssArr.push(e._getCss())}},{key:"render",value:function(){return r.a.createElement(t,this.props)}}])&&pt(a.prototype,u),i&&pt(a,i),o}(o.Component)}function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Et(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var St=function(t){function e(){return dt(this,e),Et(this,gt(e).apply(this,arguments))}var n,a,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,t),n=e,(a=[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-inverse navbar-fixed-top"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("a",{className:"navbar-brand"},"SSR")),r.a.createElement("div",null,r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"首页")),this.props.user&&r.a.createElement(o.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/logout"},"退出")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/profile"},"个人中心"))),!this.props.user&&r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"登录"))),this.props.user&&r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement("a",{className:lt.a.user},this.props.user.username))))))}}])&&Ot(n.prototype,a),u&&Ot(n,u),e}(o.Component),_t=ht(St=Object(l.b)((function(t){return t.session}))(St),lt.a),jt=n("V/vL"),Pt=n("4Gr3"),kt=n.n(Pt);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xt(t,e){return!e||"object"!==Nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dt=function(t){function e(){return Ct(this,e),xt(this,Rt(e).apply(this,arguments))}var n,a,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,t),n=e,(a=[{key:"render",value:function(){return r.a.createElement(o.Fragment,null,r.a.createElement(_t,{staticContext:this.props.staticContext}),r.a.createElement("div",(t={className:"container"},e="className",n=kt.a.app,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t),Object(jt.a)(this.props.route.routes)));var t,e,n}}])&&Tt(n.prototype,a),u&&Tt(n,u),e}(o.Component);Dt.loadData=function(t){return t.dispatch(N.getUser())};var Ht,Lt=ht(Dt,kt.a),Mt=[{path:"/",component:Lt,loadData:Lt.loadData,routes:[{path:"/",component:d,exact:!0,key:"/",loadData:d.loadData},{path:"/counter",component:k,key:"/counter"},{path:"/login",component:F,key:"/login"},{path:"/logout",component:K,key:"/logout"},{path:"/profile",component:tt,key:"/profile"},{component:it,key:"/notfound"}]}],Ft=n("ANjH"),Gt=n("sINF"),Jt=n("1mXj"),qt=n.n(Jt),At=n("vDqi"),Ut=n.n(At),Wt=Ut.a.create({baseURL:"/"}),Bt={number:0},Kt={list:[]},Vt={user:null,success:null,error:null},Xt=Object(Ft.c)({counter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INCREMENT":return{number:t.number+1};default:return t}},home:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_HOME_LIST":return{list:e.payload};default:return t}},session:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_SESSION":return e.payload;default:return t}}});u.a.hydrate(r.a.createElement(l.a,{store:(Ht=window.context.state,Object(Ft.d)(Xt,Ht,Object(Ft.a)(Gt.a.withExtraArgument(Wt),qt.a)))},r.a.createElement(i.a,null,Object(jt.a)(Mt))),document.getElementById("root"))},PCGc:function(t,e,n){var o=n("+pLP");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(t.exports=o.locals)},k0qG:function(t,e,n){(t.exports=n("JPst")(!1)).push([t.i,".app{\n    margin-top:70px;\n}",""])}},[["O14P",1,2,3]]]);
//# sourceMappingURL=client.js.map