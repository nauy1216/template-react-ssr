(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{O14P:function(t,e,n){"use strict";n.r(e);var o=n("q1tI"),r=n.n(o),u=n("i8i4"),a=n.n(u),i=n("eO8H"),c=n("TJpk"),l=n("/MKj"),f={getHomeList:function(){return function(t,e,n){return n.get("/api/users").then((function(e){var n=e.data;t({type:"SET_HOME_LIST",payload:n})}))}}};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(){return s(this,e),b(this,m(e).apply(this,arguments))}var n,o,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(o=[{key:"componentWillMount",value:function(){console.log("Home 组件即将挂载"),this.props.list&&this.props.list.length||this.props.getHomeList()}},{key:"componentDidMount",value:function(){console.log("你看我在服务端执不执行")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.Helmet,null,r.a.createElement("title",null,"React-SSR"),r.a.createElement("meta",{name:"description",content:"首页描述"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("ul",{className:"list-group"},this.props.list.map((function(t){return r.a.createElement("li",{key:t.id,className:"list-group-item"},t.name)}))))))}}])&&y(n.prototype,o),u&&y(n,u),e}(o.Component);(v=Object(l.b)((function(t){return t.home}),f)(v)).loadData=function(t){return t.dispatch(f.getHomeList())};var d=v,O={increment:function(){return{type:"INCREMENT"}}};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){function e(){return w(this,e),S(this,_(e).apply(this,arguments))}var n,o,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,this.props.number),r.a.createElement("button",{onClick:this.props.increment},"+"))}}])&&g(n.prototype,o),u&&g(n,u),e}(o.Component),N=P=Object(l.b)((function(t){return t.counter}),O)(P),k={login:function(t){return function(e,n,o){return o.post("/api/login",t).then((function(t){var n=t.data;e({type:"SET_SESSION",payload:n.data})}))}},logout:function(){return function(t,e,n){return n.get("/api/logout").then((function(e){var n=e.data;t({type:"SET_SESSION",payload:n.data})}))}},getUser:function(){return function(t,e,n){return n.get("/api/user").then((function(e){var n=e.data;t({type:"SET_SESSION",payload:n.data})}))}}};function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function R(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?D(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L=function(t){function e(){var t,n;T(this,e);for(var o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return M(D(n=R(this,(t=I(e)).call.apply(t,[this].concat(r)))),"state",{username:""}),M(D(n),"handleSubmit",(function(t){t.preventDefault(),n.props.login({username:n.state.username})})),n}var n,o,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"用户名"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.username,onChange:function(e){return t.setState({username:e.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",className:"btn btn-primary"})))))}}])&&x(n.prototype,o),u&&x(n,u),e}(o.Component),F=L=Object(l.b)((function(t){return t.session}),k)(L);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function W(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var K=function(t){function e(){return J(this,e),W(this,q(e).apply(this,arguments))}var n,o,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-6"},r.a.createElement("button",{onClick:this.props.logout,type:"submit",className:"btn btn-primary"},"退出")))}}])&&U(n.prototype,o),u&&U(n,u),e}(o.Component),V=K=Object(l.b)((function(t){return t.session}),k)(K);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Q(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(){return z(this,e),Q(this,Y(e).apply(this,arguments))}var n,o,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){return this.props.user?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-6"},"个人中心")):r.a.createElement(i.c,{to:"/login"})}}])&&G(n.prototype,o),u&&G(n,u),e}(o.Component),tt=$=Object(l.b)((function(t){return t.session}))($);function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function rt(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var it=function(t){function e(){return nt(this,e),rt(this,ut(e).apply(this,arguments))}var n,o,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,t),n=e,(o=[{key:"componentWillMount",value:function(){this.props.staticContext&&(this.props.staticContext.notFound=!0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-6"},"你的页面飞了"))}}])&&ot(n.prototype,o),u&&ot(n,u),e}(o.Component);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pt(t,e){return!e||"object"!==ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bt(t,e){return function(n){function o(){return lt(this,o),pt(this,st(o).apply(this,arguments))}var u,a,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(o,n),u=o,(a=[{key:"componentWillMount",value:function(){this.props.staticContext&&this.props.staticContext.cssArr.push(e._getCss())}},{key:"render",value:function(){return r.a.createElement(t,this.props)}}])&&ft(u.prototype,a),i&&ft(u,i),o}(o.Component)}function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function dt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wt=function(t){function e(){return ht(this,e),dt(this,Ot(e).apply(this,arguments))}var n,u,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(e,t),n=e,(u=[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-inverse navbar-fixed-top"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("a",{className:"navbar-brand"},"SSR")),r.a.createElement("div",null,r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"首页")),this.props.user&&r.a.createElement(o.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/logout"},"退出")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/profile"},"个人中心"))),!this.props.user&&r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"登录"))),this.props.user&&r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement("a",{className:(void 0).user},this.props.user.username))))))}}])&&vt(n.prototype,u),a&&vt(n,a),e}(o.Component),gt=bt(wt=Object(l.b)((function(t){return t.session}))(wt),void 0),St=n("V/vL");function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Nt(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=function(t){function e(){return jt(this,e),Nt(this,kt(e).apply(this,arguments))}var n,u,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(e,t),n=e,(u=[{key:"render",value:function(){return r.a.createElement(o.Fragment,null,r.a.createElement(gt,{staticContext:this.props.staticContext}),r.a.createElement("div",(t={className:"container"},e="className",n=(void 0).app,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t),Object(St.a)(this.props.route.routes)));var t,e,n}}])&&Pt(n.prototype,u),a&&Pt(n,a),e}(o.Component);Tt.loadData=function(t){return t.dispatch(k.getUser())};var xt,Rt=bt(Tt,void 0),It=[{path:"/",component:Rt,loadData:Rt.loadData,routes:[{path:"/",component:d,exact:!0,key:"/",loadData:d.loadData},{path:"/counter",component:N,key:"/counter"},{path:"/login",component:F,key:"/login"},{path:"/logout",component:V,key:"/logout"},{path:"/profile",component:tt,key:"/profile"},{component:it,key:"/notfound"}]}],Dt=n("ANjH"),Ht=n("sINF"),Mt=n("1mXj"),Lt=n.n(Mt),Ft=n("vDqi"),At=n.n(Ft),Jt=At.a.create({baseURL:"/"}),Ut={number:0},Wt={list:[]},qt={user:null,success:null,error:null},Bt=Object(Dt.c)({counter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INCREMENT":return{number:t.number+1};default:return t}},home:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_HOME_LIST":return{list:e.payload};default:return t}},session:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_SESSION":return e.payload;default:return t}}});a.a.hydrate(r.a.createElement(l.a,{store:(xt=window.context.state,Object(Dt.d)(Bt,xt,Object(Dt.a)(Ht.a.withExtraArgument(Jt),Lt.a)))},r.a.createElement(i.a,null,Object(St.a)(It))),document.getElementById("root"))}},[["O14P",1,2,3]]]);
//# sourceMappingURL=client.js.map